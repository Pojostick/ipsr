%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
  %body
    %h1{:align => "center"} Mosaic Construction Test
    - if flash[:notice]
      %h2{:align => "center"} #{flash[:notice]}
    #centerer.centerer
      #selection.selection
        %table{:align => "center"}
          - @all_colors.each_slice(3).with_index do |slice, row|
            %tr
            - slice.each_with_index do |block, column|
              %td{:align => "center"}
                .block{:id => "src" << (3 * row + column), :style => "background-color: #{block};"}
      #mosaic.mosaic
        %table{:align => "center"}
          - @mosaic.grid.split.each_slice(8).with_index do |slice, row|
            %tr
            - slice.each_with_index do |color, column|
              %td{:align => "center"}
                - if color == 'transparent'
                  .block{:id => 8 * row + column}
                - else
                  .block{:id => 8 * row + column, :style => "background-color: #{color};"}
